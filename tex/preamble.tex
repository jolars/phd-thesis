\PassOptionsToPackage{unicode,pdfusetitle}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}

% Small caps serif font, for Paper numbers, ISBN, etc
\newcommand{\I}{\textrm{\scshape i}\xspace}
\newcommand{\II}{\textrm{\scshape ii}\xspace}
\newcommand{\III}{\textrm{\scshape iii}\xspace}
\newcommand{\IV}{\textrm{\scshape iv}\xspace}
\newcommand{\V}{\textrm{\scshape v}\xspace}
\newcommand{\VI}{\textrm{\scshape vi}\xspace}
\newcommand{\VII}{\textrm{\scshape vii}\xspace}
\newcommand{\VIII}{\textrm{\scshape viii}\xspace}
\newcommand{\IX}{\textrm{\scshape ix}\xspace}
\newcommand{\X}{\textrm{\scshape x}\xspace}
\newcommand{\ISBN}{\textrm{\scshape isbn}\xspace}
\newcommand{\ISSN}{\textrm{\scshape issn}\xspace}

\usepackage{pageslts}

% G5 format
\usepackage[
  paperwidth=169mm,
  paperheight=239mm,
  nomarginpar,
]{geometry}

\usepackage[T1]{fontenc}
\usepackage{mathtools}
\usepackage[varqu,varl,scale=0.93]{inconsolata}
\usepackage[ebgaramond,textscale=0,semibold,vvarbb,amsthm]{newtx}
\usepackage[scale=0.9]{cabin}
\usepackage{bm}

\usepackage{pifont} % for dingbats

\usepackage{upquote} % straight quotes in verbatim environments
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts

% Additional font sizes \HUGE and \ssmall, needed for figure captions
\usepackage{moresize}

% tikz and pgfplots
\usepackage{tikz}
\usetikzlibrary{calc,arrows,shapes,positioning,intersections}
\usepackage{pgfplots}
\usepgfplotslibrary{external,colormaps}
\pgfplotsset{compat=1.11}
\tikzexternalize[export=false]

\usepackage[labelfont=bf]{caption}
\usepackage[labelfont=bf]{subcaption}

\usepackage{epigraph}

% algorithms
\usepackage[ruled,vlined,linesnumbered]{algorithm2e}
% \usepackage{algpseudocode,algorithm}
% \resetcounteronoverlays{algocf}

\usepackage{xcolor}
\usepackage{xurl}
\usepackage{bookmark}
\usepackage{hyperref}

\definecolor{lublue}{RGB}{0,0,128}
\definecolor{lubronze}{RGB}{156,97,20}

\hypersetup{
  colorlinks = true,
  % hidelinks,
  breaklinks = true,
  linkcolor  = black,
  filecolor  = lublue,
  urlcolor   = lublue,
  citecolor  = lubronze
}
\usepackage{cleveref}

% Chapters should have numbers - a typical thesis consists of two chapters:
% One to introduce and summarize the research ("kappa"), and one for
% reproductions of the papers and manuscripts. No need to number them by default.
% If you need chapter numbers back, comment the following line.
\renewcommand{\thesection}{\arabic{section}}

% Sections and subsections have numbers, subsubsections etc do not.
% \setcounter{secnumdepth}{2}

% Only chapters and sections appear in the table of contents, not subsections etc
\addtocontents{toc}{\protect\setcounter{tocdepth}{1}}

% Ensures that \cleardoublepage inserts empty pages without page number
\usepackage{emptypage}

% For text macros (e.g., small caps macros)
\usepackage{xspace}

% For "Lorem Ipsum" style place holders
\usepackage{blindtext}

% For \includegraphics
\usepackage{graphicx}

% Nice looking tables with correct spacings 
\usepackage{booktabs}
\usepackage{multirow}

% Tables spanning more than one page
% \usepackage{longtable}

% Math symbols
% \usepackage{amsfonts,amsmath,amssymb}

% To include the PDFs of the papers
\usepackage[draft]{pdfpages}

% Hyphenation, support for different languages, last one is default
% Make sure to install the hyphenation packages for all languages you need
\usepackage[english]{babel}

% Figures can be kept in the same directory as the thesis, or in a Figure/
% directory, without need to specifying which of the two it is
\graphicspath{{figures/}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% define commands for chapters, sections, and subsections that do not
% have a number, but are entered as candidates for the table of contents.

\newcommand\chap[1]{%
  \chapter*{#1}%
  \addcontentsline{toc}{chapter}{#1}
  \markboth{#1}{#1}
}
\newcommand\sect[1]{%
  \section*{#1}%
  \addcontentsline{toc}{section}{#1}
  \markright{#1}
}
\newcommand\subsect[1]{%
  \subsection*{#1}%
  \addcontentsline{toc}{subsection}{#1}
}

% References should be a section of the summary text, with number and all ...
% \renewcommand\bibsection{\section{\bibname}\markright{\bibname}}

% code listings
\usepackage{listings}
% \usepackage{minted}

% Define a custom color
\definecolor{backcolour}{rgb}{0.95,0.95,0.95}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.6,0.6,0.6}

\lstdefinestyle{myStyle}{
  backgroundcolor=\color{backcolour},
  frame=single,
  % commentstyle=\color{codegreen},
  basicstyle=\ttfamily\small,
  breakatwhitespace=false,
  breaklines=true,
  keepspaces=true,
  numbers=left,
  % numbersep=5pt,
  numberstyle=\footnotesize\color{mygray},
  showspaces=false,
  showstringspaces=false,
  showtabs=false,
  tabsize=2,
}

% Use \lstset to make myStyle the global default
\lstset{style=myStyle}

\usepackage{enumitem}

\usepackage{siunitx}

\usepackage[
  style=authoryear-comp,
  language=english,
  url=false,
  sortcites=true,
  refsegment=chapter,
  % minbibnames=22,
  % mincitenames=22,
  % maxbibnames=22,
  % maxcitenames=25
]{biblatex}
\addbibresource{phdthesis.bib}

% Problem environment
\usepackage{aliascnt}
\newaliascnt{problem}{equation}
\aliascntresetthe{problem}
\creflabelformat{problem}{#2\textup{(#1)}#3}
\makeatletter
\def\problem{$$\refstepcounter{problem}}
\def\endproblem{\eqno \hbox{\@eqnnum}$$\@ignoretrue}
\makeatother
\Crefname{problem}{Problem}{Problems}

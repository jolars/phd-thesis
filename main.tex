\documentclass{book}

\input{tex/preamble.tex}
\input{tex/macros.tex}

% Re-usable information (title page, datasheet)
\newcommand{\myName}{Johan Larsson}
\newcommand{\myYear}{2024}
\newcommand{\myMainTitle}{Optimization and Algorithms in Sparse Regression}
\newcommand{\mySubTitle}{Screening Rules, Coordinate Descent, and Normalization}

% Compact combination of combining title and subtitle, used in datasheet and as
% chapter title for the main part.
\newcommand{\myTitle}{\myMainTitle: \mySubTitle}

\newcommand{\myFaculty}{Lund University School of Economics and Business Administration}
\newcommand{\myDepartment}{Department of Statistics}
\newcommand{\myAddress}{Box 7080\\SE--220 07 Lund\\Sweden} % Three lines maximum!

\newcommand{\myDegree}{Thesis for the degree of Doctor of Philosophy}
\newcommand{\myAdvisors}{Jonas Wallin and Małgorzata Bogdan}
\newcommand{\myOpponent}{Professor Mário A. T. Figueiredo (Instituto Superior Técnico, Lisbon, Portugal)}

\newcommand{\myDefenceAnnouncement}{%
  To be presented, with the permission of the
  \myFaculty\xspace of Lund University, for public criticism in the Clark Kent
  lecture hall (Kentsalen) at the \myDepartment\xspace
  on Sunday, the 34th of December \myYear\xspace at 24:00. }
\newcommand{\myCoverFront}{%
  \noindent {\bf Cover illustration front:}
  The elastic net path for a data set of diabetes patients.
}
\newcommand{\myCoverBack}{%
  {\bf Cover illustration back:} Picture showing my research (Paper \V).}
\newcommand{\myFundingInformation}{%
  {\bf Funding information:}
  The thesis work was financially supported by my rich uncle.}

% \newcommand{\mySeries}{\ISSN: $<$ISSN number$>$}

\newcommand{\myISBNprint}{978-91-8104-076-0}
\newcommand{\myISBNpdf}{978-91-8104-077-7}
\newcommand{\myFormSignDate}{1776-7-4}

% total page number is computed automatically:
\newcommand{\myPages}{\lastpageref{LastPages}}

\newcommand{\myFormDefenceDate}{2024-05-24}
\newcommand{\myFormKeywords}{%
  power, victory, awesomeness}

% Write a short english abstract of the thesis here, goes into the data sheet page 4. 
\newcommand{\myAbstract}{
  \blindtext

  \blindtext
}%

% --- Shortcut thesis commands for paper references and titles ---
% Included papers - only need to type this once
\newcommand{\PaperIauthor}{\textbf{F. Lastname}, C. Coauthor, \ldots}
\newcommand{\PaperIIauthor}{\textbf{F. Lastname}, C. Coauthor, \ldots}
\newcommand{\PaperIIIauthor}{\textbf{F. Lastname}, C. Coauthor, \ldots}
\newcommand{\PaperIVauthor}{\textbf{F. Lastname}, C. Coauthor, \ldots}
\newcommand{\PaperVauthor}{\textbf{F. Lastname}, C. Coauthor, \ldots}
\newcommand{\PaperVIauthor}{\textbf{F. Lastname}, C. Coauthor, \ldots}

\newcommand{\PaperIref}{Journal for Superheroes, pp. 1--10}
\newcommand{\PaperIIref}{Journal for Bankers, pp. 2--30}
\newcommand{\PaperIIIref}{Journal for Superheroes, pp. 1--10}
\newcommand{\PaperIVref}{Journal for Superheroes, pp. 1--10}
\newcommand{\PaperVref}{Journal for Superheroes, pp. 1--10}
\newcommand{\PaperVIref}{Journal for Superheroes, pp. 1--10}

\newcommand{\PaperItitle}{The Strong Screening Rule for SLOPE}
\newcommand{\PaperIItitle}{Look-Ahead Screening Rules for the Lasso}
\newcommand{\PaperIIItitle}{The Hessian Screening Rule}
\newcommand{\PaperIVtitle}{Benchopt: Reproducible, Efficient and Collaborative Optimization Benchmarks}
\newcommand{\PaperVtitle}{Coordinate Descent for SLOPE}
\newcommand{\PaperVItitle}{Regularization and Scaling in Sparse Regression}

\makeatletter
\newcommand*{\rom}[1]{\expandafter\scshape\romannumeral #1}
\makeatother

\newcommand{\PaperSeparator}[1]{%
  \begin{tikzpicture}[remember picture, overlay]
    \node[
      fill=black,
      text=white,
      font=\bfseries\fontsize{50}{55}\selectfont,
      anchor=east,
      minimum height=1.5cm,
      minimum width=2.6cm,
      text width=2.0cm,
      align=left
      ] at ($(current page.north east) + (0,-{#1*0.15}\paperheight + 0.75cm)$)  {\rom{#1}};
  \end{tikzpicture}
}

% Not included papers, in case you want to list them
%\newcommand{\PaperNotIncIauthor}{C. Coauthor, \textbf{X. Someone}}
%\newcommand{\PaperNotIncIref}{Journal for \ldots}
%\newcommand{\PaperNotIncItitle}{Boring matter}
% --- END reusable thesis commands ---

\begin{document}

%%%%%%%%%%%%% First pages with thesis title etc %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% First six pages are contained in a separate file. Normally you should not
% need to edit it.

\pagestyle{empty}

\input{tex/frontmatter.tex}

% Quote page

\newpage
\thispagestyle{empty} % No page number on quote page

\setlength\epigraphrule{0pt}
\setlength\epigraphwidth{.5\textwidth}

\null
\vspace{20ex}

% Nothing in life is as important as you think it is when you are thinking about it. ---Daniel Kahneman
% Our comforting conviction that the world makes sense rests on a secure foundation: our almost unlimited ability to ignore our ignorance.
% As you know from teaching introductory statistics, 30 is infinity. -- Andrew Gelman
% You should inform your gut and then trust it ---Daniel Kahneman
% The best thing about being a statistician is that you get to play in everyone's backyard. --- John Tukey

% \epigraph{\itshape
%   As you know from teaching introductory statistics, 30 is infinity.
% }{
%   ---Andrew Gelman
% }

\epigraph{\itshape
  There’s a point when you go with what you’ve got. Or you don’t go.
}{
  ---Joan Didion
}






\cleardoublepage

\pagestyle{headings}

% Table of Contents
\setcounter{page}{1} % Page Roman 1 of the frontmatter
\setcounter{tocdepth}{1}

\tableofcontents
\addtocontents{toc}{\protect\thispagestyle{empty}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% List of publications %%%%%%%%%%%%%%%%%%%%%%%%%%%
% Have a long list and want to start on the left page? Here, have a special
% chapter heading for that!
%\addcontentsline{toc}{part}{Part 1: Summary}
%\renewcommand{\chapterheadstartvskip}{}
%{\let\cleardoublepage\relax \let\chapterheadstartvskip\nop 

\newpage

\chap{Acknowledgements}

\newpage

\chap{Abstract}

\chap{Popular Science Summary}

\chap{List of Publications}\label{sec:paperlist}

This thesis is based on the following publications.

\begin{description}[leftmargin=!,labelwidth=0.7cm]
  \item[\I] \fullcite{larsson2020b}
  \item[\II] \fullcite{larsson2021}
  \item[\III] \fullcite{larsson2022b}
  \item[\IV] \fullcite{moreau2022a}
  \item[\V] \fullcite{larsson2023}
  \item[\VI] PAPER ON THE WAY
        % TODO: Add details for last paper
\end{description}

%   % Publications not included in this thesis:
%   % \vspace{2mm}
%   %
%   % \begin{tabularx}{\textwidth}{rX}
%   % {\sc \phantom{vi}}   & {\bf \PaperNotIncItitle}\\[2mm]
%   %	  & \PaperNotIncIauthor\\
%   %          & \PaperNotIncIref\\[5mm] 
%   %
%   %\end{tabularx}
%   %
% } % End large font tables, continue with font size stated in preamble

\noindent {\small All papers are reproduced with permission of their respective publishers.}

% Page numbers arabic 
\mainmatter
% Reset table counters to not count the publications table
\setcounter{table}{0}
% Rest page counters, this is where it all starts!
\setcounter{page}{1}

\input{tex/introduction.tex}

\printbibliography

\chap{Papers}

\cleardoublepage

\thispagestyle{empty}

\phantomsection
\addcontentsline{toc}{section}{\protect\numberline{\I} {\PaperItitle}}
\markright{\I{}: \PaperItitle}

% \begin{tikzpicture}[remember picture, overlay]
%   \node[fill=black, text=white, font=\bfseries\fontsize{50}{55}\selectfont, anchor=east, minimum height=1.5cm, minimum width=2.5cm, text width=1.5cm, align=left] at ($(current page.north east) + (0,-0.2\paperheight)$) {\I};
% \end{tikzpicture}

\PaperSeparator{1}

\cleardoublepage
% Include the PDF. Comment this while writing the thesis, only add later.
% Options are: all pages, scaled to full width (use 0.95 if that is too high for some reason), with thesis page number
\includepdf[
  pages=-,
  width=0.9\textwidth,
  % scale=0.50,
  % noautoscale,
  % offset=-14.56723pt 0pt,
  % frame=true,
  clip,
  viewport=107 50 506 743,
  pagecommand={\thispagestyle{headings}},
]{papers/paper1.pdf}
% One additional option could be useful: To cut away the margins of the included PDFs use:
% clip,viewport=<left> <bottom> <right> <top>
% To determine the four numbers you can use the ./determineViewport.sh script in the thesis directory.

\cleardoublepage

\thispagestyle{empty}
\PaperSeparator{2}
\addcontentsline{toc}{section}{\protect\numberline{\II} {\PaperIItitle}}

\cleardoublepage

\thispagestyle{empty}
\PaperSeparator{3}
\addcontentsline{toc}{section}{\protect\numberline{\III} {\PaperIIItitle}}

\cleardoublepage

\thispagestyle{empty}
\PaperSeparator{4}
\addcontentsline{toc}{section}{\protect\numberline{\IV} {\PaperIVtitle}}

\cleardoublepage

\thispagestyle{empty}
\PaperSeparator{5}
\addcontentsline{toc}{section}{\protect\numberline{\V} {\PaperVtitle}}

\cleardoublepage

\thispagestyle{empty}
\PaperSeparator{6}
\addcontentsline{toc}{section}{\protect\numberline{\VI} {\PaperVItitle}}

\cleardoublepage

% \appendix
% \thispagestyle{empty}

% \begin{tikzpicture}[remember picture, overlay]
%   \node[fill=black, text=white, font=\bfseries\HUGE, anchor=east, minimum height=1.5cm, minimum width=5cm] at ($(current page.north east) + (0,-0.8\paperheight)$) {Appendix};
% \end{tikzpicture}

% \appendix
% \chap{Appendix: Conference posters}
% \section*{Poster 1: \PaperItitle}
% Media-Tryck's suggestion to a poster layout, can be downloaded from \url{https://bildweb.srv.lu.se/login/}.
% Presented 2067 at the \emph{Symposium for time travel}
% in Berlin, Germany. For further details refer to Paper~\I and
% Sect.~\ref{sec:mainresults}.
%
% % include poster itself. Cropping works as described above for the papers.
% \includepdf[pages=-,width=\paperwidth-10mm]{posterMediaTryck.pdf} %smaller margin, works fine when printing (hopefully ;) Hallå, Jonas!)

\end{document}
